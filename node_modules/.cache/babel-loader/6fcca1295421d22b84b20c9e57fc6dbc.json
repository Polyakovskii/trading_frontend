{"ast":null,"code":"var _jsxFileName = \"/home/alexandr/PycharmProjects/\\u0421\\u0442\\u0430\\u0436\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430/frontend/src/Watchlist.js\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nclass AddWatchlist extends React.Component {\n  addToWatchlist(ItemId) {\n    axios.post('http://localhost:8000/api/v1/watchlist/', {\n      item: ItemId\n    }, {\n      headers: {\n        Authorization: localStorage.getItem('trading_api_token')\n      }\n    });\n  }\n\n  render() {\n    const itemsNotInWatchlist = this.props.items.filter(item => {\n      return !this.props.watchlist.find(watchlist => watchlist.item.id == item.id);\n    });\n    const content = itemsNotInWatchlist.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }\n    }, item.code), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    }, item.logo), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }\n    }, item.details), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, \"Currency: \", item.currency.name), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.addToWatchlist(item.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, \"Add to watchlist\")));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, content);\n  }\n\n}\n\nclass UsersWatchlist extends React.Component {\n  render() {\n    console.log(this.props.watchlist);\n    const content = this.props.watchlist.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, item.item.code), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, item.item.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, item.item.logo), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, item.item.details), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, item.item.demanded), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, \"Currency: \", item.item.currency.name)));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, content);\n  }\n\n}\n\nclass Watchlist extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      watchlist: [],\n      items: [],\n      isAdding: true\n    };\n    axios.get('http://localhost:8000/api/v1/watchlist/', {\n      headers: {\n        Authorization: localStorage.getItem('trading_api_token')\n      }\n    }).then(response => this.setState({\n      watchlist: response.data\n    })).catch(err => console.log(err));\n    axios.get('http://localhost:8000/api/v1/items/', {\n      headers: {\n        Authorization: localStorage.getItem('trading_api_token')\n      }\n    }).then(response => this.setState({\n      items: response.data\n    })).catch(err => console.log(err));\n  }\n\n  render() {\n    if (this.state.isAdding) {\n      return /*#__PURE__*/React.createElement(AddWatchlist, {\n        watchlist: this.state.watchlist,\n        items: this.state.items,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 20\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(UsersWatchlist, {\n        watchlist: this.state.watchlist,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 20\n        }\n      });\n    }\n  }\n\n}\n\nexport { Watchlist };","map":{"version":3,"sources":["/home/alexandr/PycharmProjects/Стажировка/frontend/src/Watchlist.js"],"names":["React","axios","AddWatchlist","Component","addToWatchlist","ItemId","post","item","headers","Authorization","localStorage","getItem","render","itemsNotInWatchlist","props","items","filter","watchlist","find","id","content","map","code","name","logo","details","currency","UsersWatchlist","console","log","demanded","Watchlist","constructor","state","isAdding","get","then","response","setState","data","catch","err"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\"\n\nclass AddWatchlist extends React.Component{\n    addToWatchlist(ItemId){\n        axios\n            .post('http://localhost:8000/api/v1/watchlist/', {\n            item: ItemId\n        },\n                {\n                    headers: {\n                        Authorization: localStorage.getItem('trading_api_token')\n                    }\n                }\n        )\n    }\n\n    render() {\n        const itemsNotInWatchlist = this.props.items.filter(item => {\n            return !this.props.watchlist.find(watchlist => watchlist.item.id == item.id);\n        })\n        const content = itemsNotInWatchlist.map((item) =>\n            <div key={item.id}>\n                <p>{item.code}</p>\n                <p>{item.name}</p>\n                <p>{item.logo}</p>\n                <p>{item.details}</p>\n                <p>Currency: {item.currency.name}</p>\n                <button onClick={() => this.addToWatchlist(item.id)}>Add to watchlist</button>\n            </div>\n        )\n        return (\n            <div>\n                {content}\n            </div>\n        )\n    }\n}\n\n\nclass UsersWatchlist extends React.Component{\n    render(){\n        console.log(this.props.watchlist)\n        const content = this.props.watchlist.map((item) =>\n            <div key={item.id}>\n                <p>{item.item.code}</p>\n                <p>{item.item.name}</p>\n                <p>{item.item.logo}</p>\n                <p>{item.item.details}</p>\n                <p>{item.item.demanded}</p>\n                <p>Currency: {item.item.currency.name}</p>\n            </div>\n        )\n        return (\n            <div>\n                {content}\n            </div>\n        )\n    }\n}\n\n\nclass Watchlist extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            watchlist: [],\n            items: [],\n            isAdding : true\n        }\n        axios\n                .get('http://localhost:8000/api/v1/watchlist/', {\n                    headers: {\n                        Authorization: localStorage.getItem('trading_api_token')\n                    }\n                })\n                .then(response => this.setState({watchlist: response.data}))\n                .catch(err => console.log(err))\n        axios\n            .get('http://localhost:8000/api/v1/items/', {\n                headers: {\n                    Authorization: localStorage.getItem('trading_api_token')\n                }\n            })\n            .then(response => this.setState({items: response.data}))\n            .catch(err => console.log(err))\n    }\n\n    change\n\n    render() {\n        if (this.state.isAdding){\n            return <AddWatchlist watchlist={this.state.watchlist} items={this.state.items}/>\n        }\n        else{\n            return <UsersWatchlist watchlist={this.state.watchlist} />\n        }\n    }\n}\n\n\nexport {\n    Watchlist,\n}"]},"metadata":{},"sourceType":"module"}