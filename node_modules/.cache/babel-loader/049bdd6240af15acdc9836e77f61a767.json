{"ast":null,"code":"var _jsxFileName = \"/home/alexandr/PycharmProjects/\\u0421\\u0442\\u0430\\u0436\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430/frontend/src/usersWatchlist.js\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nclass AddWatchlist extends React.Component {\n  addToWatchlist(ItemId) {\n    axios.post('http://localhost:8000/api/v1/watchlist/', {\n      item: ItemId\n    }, {\n      headers: {\n        Authorization: localStorage.getItem('trading_api_token')\n      }\n    });\n  }\n\n  render() {\n    const content = this.props.items.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }\n    }, item.code), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }\n    }, item.logo), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }\n    }, item.details), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }\n    }, \"Currency: \", item.item.currency.name), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.addToWatchlist(item.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    }, \"Add to watchlist\")));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, content);\n  }\n\n}\n\nclass UsersWatchlist extends React.Component {\n  render() {\n    const content = this.props.watchlist.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, item.item.code), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, item.item.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, item.item.logo), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, item.item.details), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, item.item.demanded), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, \"Currency: \", item.item.currency.name)));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, content);\n  }\n\n}\n\nclass Watchlist extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      watchlist: axios.get('http://localhost:8000/api/v1/watchlist/', {\n        headers: {\n          Authorization: localStorage.getItem('trading_api_token')\n        }\n      }).then(response => response.data).catch(err => {\n        console.log(err);\n        return [];\n      }),\n      items: axios.get('http://localhost:8000/api/v1/items/', {\n        headers: {\n          Authorization: localStorage.getItem('trading_api_token')\n        }\n      }).then(response => response.data).catch(err => {\n        console.log(err);\n        return [];\n      }),\n      isAdding: false\n    };\n  }\n\n  render() {\n    let content;\n\n    if (this.state.isAdding) {\n      const items = this.state.items;\n      const watchlist = this.state.watchlist;\n      this.state.watchlist.forEach(watchlist => {\n        this.state.ite;\n      });\n    }\n  }\n\n}\n\nexport { UsersWatchlist, AddWatchlist };","map":{"version":3,"sources":["/home/alexandr/PycharmProjects/Стажировка/frontend/src/usersWatchlist.js"],"names":["React","axios","AddWatchlist","Component","addToWatchlist","ItemId","post","item","headers","Authorization","localStorage","getItem","render","content","props","items","map","id","code","name","logo","details","currency","UsersWatchlist","watchlist","demanded","Watchlist","constructor","state","get","then","response","data","catch","err","console","log","isAdding","forEach","ite"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\"\n\nclass AddWatchlist extends React.Component{\n    addToWatchlist(ItemId){\n        axios\n            .post('http://localhost:8000/api/v1/watchlist/', {\n            item: ItemId\n        },\n                {\n                    headers: {\n                        Authorization: localStorage.getItem('trading_api_token')\n                    }\n                }\n        )\n    }\n\n    render() {\n        const content = this.props.items.map((item) =>\n            <div key={item.id}>\n                <p>{item.code}</p>\n                <p>{item.name}</p>\n                <p>{item.logo}</p>\n                <p>{item.details}</p>\n                <p>Currency: {item.item.currency.name}</p>\n                <button onClick={() => this.addToWatchlist(item.id)}>Add to watchlist</button>\n            </div>\n        )\n        return (\n            <div>\n                {content}\n            </div>\n        )\n    }\n}\n\n\nclass UsersWatchlist extends React.Component{\n    render(){\n        const content = this.props.watchlist.map((item) =>\n            <div key={item.id}>\n                <p>{item.item.code}</p>\n                <p>{item.item.name}</p>\n                <p>{item.item.logo}</p>\n                <p>{item.item.details}</p>\n                <p>{item.item.demanded}</p>\n                <p>Currency: {item.item.currency.name}</p>\n            </div>\n        )\n        return (\n            <div>\n                {content}\n            </div>\n        )\n    }\n}\n\n\nclass Watchlist extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            watchlist: axios\n                .get('http://localhost:8000/api/v1/watchlist/', {\n                    headers: {\n                        Authorization: localStorage.getItem('trading_api_token')\n                    }\n                })\n                .then(response => response.data)\n                .catch(err => {\n                    console.log(err)\n                    return []\n                }),\n            items: axios\n                .get('http://localhost:8000/api/v1/items/', {\n                    headers: {\n                        Authorization: localStorage.getItem('trading_api_token')\n                    }\n                })\n                .then(response => response.data)\n                .catch(err => {\n                    console.log(err)\n                    return []\n                }),\n            isAdding : false\n        }\n    }\n\n    render() {\n        let content;\n        if (this.state.isAdding){\n            const items = this.state.items\n            const watchlist = this.state.watchlist\n            this.state.watchlist.forEach(\n                watchlist => {\n                    this.state.ite\n                }\n            )\n        }\n\n    }\n}\n\n\nexport {\n    UsersWatchlist,\n    AddWatchlist\n}\n"]},"metadata":{},"sourceType":"module"}